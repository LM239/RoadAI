<!DOCTYPE html>
<html>

<head>
  <nav id="topnav">
    <a id="logo" class="nav-link" href="#">Team NoDig</a>
    <a class="nav-link" href="#">Notebook (PDF)</a>
    <a class="nav-link" href="#">Notebook (code)</a>
    <a class="nav-link" href="#">GitHub repository</a>
    <a class="nav-link" href="#">NMI article</a>
    <a class="nav-link" href="https://www.nora.ai/competition/roadai-competition/">Competition site</a>

    <a id="about" class="nav-link" href="about_team.html">About the team</a>
  </nav>
  <br>
  <br>
  <br>
  <br>
  <title>RoadAI - Team NoDig</title>
  <link rel="stylesheet" href="styling.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
</head>

<body>
  <div class="centered-textbox">
    <h1>RoadAI</h1>
    <h2>Team NoDig</h2>
    <h3 class="left-aligned-text">Competition Description</h3>
    <p class="left-aligned-text">
      The RoadAI competition aims to reduce emissions in road construction. 1.5% of Norwegian CO2 emission resides
      from construction machines. The Norwegian Artificial Intelligence Research Consortium (NORA) hosts the
      competition,
      in collaboration with Skanska, Sintef, Nordic Machine Intelligence Journal, and several other partners.
      Kicking
      off in June 2023, the competition has run for three months, ending on the 10th of September. The overall aim
      of
      the competition is to demonstrate how road construction can become more sustainable through the
      use of data.
      <br>
      <br>
      Skanska has provided the participants with real machine data mainly recorded in March, April, and May in
      2022.
      The data stems from the construction of the E16 highway, between Bj√∏rum and Skaret, just west of Oslo. There
      are
      four main components in the data set; GPS data, machine data (AEMP), vibration data, and drone photos.
    </p>
    <h3>
      Our Approach
    </h3>
    <p class="left-aligned-text">
      Team NoDig's approach has been founded on a desire to develop feasible tools for automated decision support.
      A necessary first step has been the preprocessing of raw data. Any successful data analysis or machine
      learning model relies on relevant, representative, and usable input of data. Part one in the next section will
      elaborate on how we have preprocessed the raw data. Part two demonstrates how we have automated the load and
      dump activities of the machines. Finally, part three of our algorithm demonstrates the automated generation
      of a daily report.
    </p>
    <h2>The Algorithm</h2>
    <h3>
      Part one: Data Preprocessing
    </h3>
    <p class="left-aligned-text">
      GPS data has been our main source for input to each algorithm. From the initial CSV files we have created
      intuitive and usable classes that allows for analysis and machine learning. It is also simple to add new features
      (i.e. covariates) to the classes. The parts that follow will be built from the original GPS data. Attemps to
      include machine and vibration data has been made, but with unreliable results. We will instead provide remarks and
      brief discussions where we would have liked to make use of the mentioned data.
    </p>
    <h3>
      Part two: Automatic Load and Dump Detection with LightGBM
    </h3>
    <p class="left-aligned-text">
      Loading and dumping of trucks and dumpers has been performed manually by drivers in our data. There appear to be
      varying definitions of when loading and dumping occurs exactly. At the same time, a driver can forget to report
      an activity, leaving mistakes and reducing overall data quality. In the long term, one should aim to reduce the
      need for manual registration of data. This should improve data consistency and ultimately enhance the potential of
      any analysis or model that is founded on the data. It will also reduce the driver's need to interact with the
      device during trips, which in turn should have a positive effect on overall efficiency.
      <br>
      <br>
      We assume there is a continuous stream of data from the device in some machine. We do not make any assumptions
      about the frequency of these recored points, but assume that every point can be classified as "Driving", "Loading"
      or "Dumping". Our aim has been to classify each point as it has come through, on the basis of available data up
      until that given point. There is, by definition, one single loading point and one single dumping point per trip.
      The rest of the recordings are considered to be "driving" points. The number of such points varies per trip, but
      we typically observe more than 100 and less than 1000 points.
      <br>
      <br>
      As previously mentioned, the drivers seem to register a dump and load at various times, e.g. when stopping to
      load, or when finished loading. Individual differences between the drivers, coupled with GPS inaccuracy makes it
      difficult to spot the exact point the driver records an activity. Therefore, we argue that one could merge
      consecutive points and base our classification on that. This provide the classification with robustness and
      generalizes better between drivers and machines.
      <br>
      <br>
      The machine learning algorithm employed in this project is Light Gradient-Boosting Machine (LightGBM). LightGBM is
      an ensemble framework that uses decision trees as weak learners and can tackle regression, ranking, and
      classification tasks. What sets LightGBM apart from other gradient boosting algorithms like XGBoost and CatBoost
      are its distinctive features - Gradient-based One-Side Sampling (GOSS) and Exclusive Feature Bundling (EFB). These
      features effectively reduce the size of the data set and the number of utilized features, all while maintaining
      the same level of accuracy for the majority of tasks. As a result, LightGBM delivers exceptional time efficiency.
      <br>
      <br>
      In the context of this work, the LightGBM model is trained on a dataset derived from GPS data. This enriched
      dataset includes a variety of features for each timestamp, such as speed (in m/s), acceleration (in m/s^2), and
      movement-related variables like changes in latitude/longitude and speed in both north/south and east/west
      directions. The model's objective is to predict machine activities- specifically, whether a truck or a dumper is
      driving, dumping, or loading at any given time.
      <br>
      <br>
      The model operates by first segmenting the data for each machine across a single day and then splitting it into an
      80/20 ratio for training and testing. This segmentation ensures that the model makes predictions on all relevant
      chunks of data, not neglecting randomly selected routes.
      <br>
      <br>
      The algorithm offers the flexibility to predict either based on merged timestamps or unique data points. While
      predicting on merged timestamps tends to yield higher accuracy, it compromises the granularity of the predictions,
      making it more challenging to pinpoint the exact timing of driving, dumping, or loading events. Thus, the user has
      flexibility to choose the level of detail they wish to achieve in the predictions.
      <br>
      <br>
      It has been observed that the model's predictive accuracy significantly improves when trained on a larger dataset.
      However, this advantage comes at the cost of increased data loading and training times, which tend to scale
      linearly with the size of the dataset.
      <br>
      <br>
      In summary, this LightGBM-based machine learning algorithm offers a robust and time-efficient solution for
      predicting machine activities, with customizable options to suit specific user needs.


    </p>
    <img src="learning_curve_25_days_5_group_size.png">
    <img src="confusion_matrix.png">

    <h3>
      Part three: Daily Report
    </h3>
    <p class="left-aligned-text">
      Taking advantage of the avilable GPS data, mass quantities, and type of mass moved, we have developed a report
      displaying the daily progress at the construction site. The report includes an interactive plot of mass moved,
      idle time statistics, and productivity information per machine per material type. The report is generated
      automatically for a chosen day.
      <br>
      <br>
      The daily report is meant to serve as a proof of concept of what could be deployed to an analytics and interactive
      visualization web application. The solution could be hosted at popular services, such as Tableau, Grafana or Power
      BI. In this sense, it is not going to be an algorithm that directly proposes solutions, but rather enable insights
      into how machines operates, both at an individual and group level. We look closer at two main components of the
      daily report.
    </p>
    <h4 style="text-align: left;">Mass Moved</h4>
    <p>In the interactive map, the user can select machine type, and the amount of clusters for dump
      and load regions to display. Drone images from Skaret and Nordlandsdalen are overlayed in the map for better
      visuals on how the region changes over time as construction progresses. An aglomerate clustering and convex
      hull algorithm is used to plot polygons of load and dump regions. The ineractive plot informs on quantity moved
      between regions, the top workers of the day (tons/hr), and total mass moved for each material type.
    </p>
    <figure>
      <iframe src="interact_static_ver.html" width="100%" , height="425"></iframe>
      <p><b>Day Overview, 04-08-2022</b><br>Total mass moved for the day by Truck: 11504.0 t<br>Stone: 11504.0 t, Soil:
        0 t, Equipment: 0 t, Other: 0 t<br><b>Top 5 mass transfer zones for the day</b><br>L2->D0: 2153.0 t<br>L4->D2:
        1113.0 t<br>L6->D2: 1023.0 t<br>L0->D4: 900.0 t<br>L4->D3: 895.5 t<br><b> Top 3 workers of the day</b><br>
        <b>Nr.1</b> ID: 30 moved 150.6 t of mass moved per hour<br><b>Nr.2</b> ID: 22 moved 148.2 t of mass moved per
        hour<br><b>Nr.3</b> ID: 44 moved 139.2 t of mass moved per hour<br>
      </p>
      <figcaption>Figure 3: Static version of interactive map showcasing mass moved between different load and dump
        clusters. Click on 'Dx' or 'Lx' markers to display mass moved to/from different clusters. For an interactive
        version, launch the <i>daily_report_demo.ipynb</i> notebook.
      </figcaption>
    </figure>
    <link href="textbox.html" rel="import" />
    <h4 style="text-align: left;">Idle Time and Productivity</h4>
    <p>
      Knowing when, where, and why machines are idle throughout the day can be an important insight when considering
      operational changes. The daily report provides a timeline plot, as can be seen in Figure 3. The red line, named
      Machines in action, illustrates the number of machines having started their day, i.e. have recorded their first
      load of the day. The number of idle machines can be seen by looking at the blue line. This tracks all machines
      standing still, including machines loading and dumping. Furthermore, one can filter on their status, i.e. are 
      their next activity expected to be a load or dump? We see that the number of idle machines peaks around 09:30 and 13:30.
    </p>

    <figure>
      <div class="iframe-container">
        <iframe class="responsive-iframe" src="idle_timeline.html"></iframe>
      </div>
      <figcaption>Figure 4: Plot of idle machine throughout the day.</figcaption>
    </figure>
    <p>
      There might be many reasons for the machines to be idle. Some drivers might be on a break, others are attending
      other duties or some might be waiting for an excavator. To provide more insight into this matter, we plot the
      position of idle machines on peak times for the selected day. An example of this can be seen in Figure 4. The map
      allows the user to zoom in on areas of interest. Machines waiting to load are marked by an excavator icon, while
      machines waiting to dump are marked by an icon of a dumping truck.
    </p>
    <figure>
      <iframe src="peak_idle_map0.html" width="100%" height="450"></iframe>
      <figcaption>Figure 5: Map of idle machines at a peak time.</figcaption>
    </figure>
    <p>
      Finally, we present a heatmap of idle machines for a given day. Collecting all idle positions of all machines for
      a given day, we get an impression of where we are most likely to find idle machines. The heatmap can be seen in
      Figure 5. Combining the idle timeline, the peak idle time plot, and the heatmap, one should be able to identify
      potential bottlenecks and areas of reduced efficiency.
    </p>
    <figure>
      <iframe src="peak_idle_heatmap.html" width="100%" height="450"></iframe>
      <figcaption>Figure 6: Heatmap of idle machines for a given day.</figcaption>
    </figure>


  </div>
</body>

</html>